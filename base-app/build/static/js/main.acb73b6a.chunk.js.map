{"version":3,"sources":["Header.js","BaseApp.js","MicroFrontend.js","App.js","index.js"],"names":["Header","className","style","backgroundColor","to","id","BaseApp","MicroFrontend","renderMicroFrontend","props","name","window","history","this","host","document","scriptId","getElementById","fetch","then","res","json","manifest","script","createElement","crossOrigin","src","onload","head","appendChild","React","Component","defaultProps","defaultHistory","createBrowserHistory","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"yMAmCeA,MAhCf,WACI,OACI,8BACI,sBACIC,UAAU,uCACVC,MAAO,CAAEC,gBAAiB,sBAF9B,UAII,cAAC,IAAD,CAAMF,UAAU,eAAeG,GAAG,IAAlC,SACI,qBAAKH,UAAU,WAAf,wBAEJ,qBACIA,UAAU,2BACVI,GAAG,yBAFP,SAII,qBAAIJ,UAAU,qBAAd,UACI,oBAAIA,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWG,GAAG,QAA9B,oBAIJ,oBAAIH,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWG,GAAG,QAA9B,+BCVbE,MAZf,WACI,OACI,sBAAKL,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,2BACA,oBAAGA,UAAU,OAAb,UACI,sBAAMA,UAAU,WAAhB,sBADJ,4E,gCCJNM,E,4MA2BFC,oBAAsB,WAClB,MAAkC,EAAKC,MAA/BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAAQC,EAAtB,EAAsBA,QACtBD,EAAO,SAAD,OAAUD,IAAhB,UAA2BA,EAA3B,cAA6CE,I,uDA5BjD,WAAqB,IAAD,OAChB,EAAiCC,KAAKJ,MAA9BC,EAAR,EAAQA,KAAMI,EAAd,EAAcA,KAAMC,EAApB,EAAoBA,SACdC,EAAQ,gCAA4BN,GAEtCK,EAASE,eAAeD,GACxBH,KAAKL,sBAITU,MAAM,GAAD,OAAIJ,EAAJ,yBACAK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACF,IAAMC,EAASR,EAASS,cAAc,UACtCD,EAAOlB,GAAKW,EACZO,EAAOE,YAAc,GACrBF,EAAOG,IAAP,UAAgBZ,GAAhB,OAAuBQ,EAAQ,MAAU,YACzCC,EAAOI,OAAS,EAAKnB,oBACrBO,EAASa,KAAKC,YAAYN,Q,kCAItC,WACI,MAAyBV,KAAKJ,MAAtBC,EAAR,EAAQA,KAAR,EAAcC,OACP,UAAD,OAAWD,IAAjB,UAA4BA,EAA5B,iB,oBAQJ,WACI,OAAO,sBAAML,GAAE,UAAKQ,KAAKJ,MAAMC,KAAhB,oB,GAjCKoB,IAAMC,WAqClCxB,EAAcyB,aAAe,CACzBjB,kBACAJ,eAGWJ,Q,QCrCT0B,EAAiBC,cA+BRC,MA7Bf,YAA4C,IAAD,IAA5BvB,eAA4B,MAAlBqB,EAAkB,EACvC,OACI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACI,cAAC,EAAD,CAEI3B,KAAK,OACLI,KAAK,wBACLF,QAASA,GAHL,OAMZ,cAAC,IAAD,CAAOyB,KAAK,QAAZ,SACI,cAAC,EAAD,CAEI3B,KAAK,OACLI,KAAK,wBACLF,QAASA,GAHL,cCtB5B0B,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJzB,SAASE,eAAe,W","file":"static/js/main.acb73b6a.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header() {\n    return (\n        <div>\n            <nav\n                className=\"navbar navbar-expand-sm navbar-light\"\n                style={{ backgroundColor: \"rgb(222, 226, 229)\" }}\n            >\n                <Link className=\"navbar-brand\" to=\"/\">\n                    <big className=\"base-app\">Base App</big>\n                </Link>\n                <div\n                    className=\"collapse navbar-collapse\"\n                    id=\"navbarSupportedContent\"\n                >\n                    <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app1\">\n                                App1\n                            </Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app2\">\n                                App2\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n        </div>\n    );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction BaseApp() {\n    return (\n        <div className=\"jumbotron\">\n            <h2 className=\"display-4\">Hello, world!</h2>\n            <p className=\"lead\">\n                <span className=\"base-app\">Base App</span> is the central access\n                point for the microfrontend infrastructure.\n            </p>\n        </div>\n    );\n}\n\nexport default BaseApp;\n","import React from \"react\";\n\nclass MicroFrontend extends React.Component {\n    componentDidMount() {\n        const { name, host, document } = this.props;\n        const scriptId = `micro-frontend-script-${name}`;\n\n        if (document.getElementById(scriptId)) {\n            this.renderMicroFrontend();\n            return;\n        }\n\n        fetch(`${host}/asset-manifest.json`)\n            .then(res => res.json())\n            .then(manifest => {\n                const script = document.createElement(\"script\");\n                script.id = scriptId;\n                script.crossOrigin = \"\";\n                script.src = `${host}${manifest[\"files\"][\"main.js\"]}`;\n                script.onload = this.renderMicroFrontend;\n                document.head.appendChild(script);\n            });\n    }\n\n    componentWillUnmount() {\n        const { name, window } = this.props;\n        window[`unmount${name}`](`${name}-container`);\n    }\n\n    renderMicroFrontend = () => {\n        const { name, window, history } = this.props;\n        window[`render${name}`](`${name}-container`, history);\n    };\n\n    render() {\n        return <main id={`${this.props.name}-container`} />;\n    }\n}\n\nMicroFrontend.defaultProps = {\n    document,\n    window,\n};\n\nexport default MicroFrontend;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport BaseApp from \"./BaseApp\";\nimport MicroFrontend from \"./MicroFrontend\";\nimport { createBrowserHistory } from \"history\";\n\nconst defaultHistory = createBrowserHistory();\n\nfunction App({ history = defaultHistory }) {\n    return (\n        <Router>\n            <Header />\n            <Switch>\n                <Route exact path=\"/\">\n                    <BaseApp />\n                </Route>\n                <Route path=\"/app1\">\n                    <MicroFrontend\n                        key=\"1\"\n                        name=\"App1\"\n                        host=\"http://localhost:3001\"\n                        history={history}\n                    />\n                </Route>\n                <Route path=\"/app2\">\n                    <MicroFrontend\n                        key=\"2\"\n                        name=\"App2\"\n                        host=\"http://localhost:3002\"\n                        history={history}\n                    />\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}