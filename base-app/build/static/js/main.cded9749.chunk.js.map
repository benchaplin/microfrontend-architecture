{"version":3,"sources":["Header.js","BaseApp.js","MicroFrontend.js","App.js","index.js"],"names":["Header","className","style","backgroundColor","to","id","BaseApp","MicroFrontend","name","host","history","document","window","useEffect","renderMicroFrontend","scriptId","getElementById","fetch","then","res","json","manifest","script","createElement","crossOrigin","src","onload","head","appendChild","defaultProps","defaultHistory","createBrowserHistory","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"yMAmCeA,MAhCf,WACI,OACI,8BACI,sBACIC,UAAU,uCACVC,MAAO,CAAEC,gBAAiB,sBAF9B,UAII,cAAC,IAAD,CAAMF,UAAU,eAAeG,GAAG,IAAlC,SACI,qBAAKH,UAAU,WAAf,wBAEJ,qBACIA,UAAU,2BACVI,GAAG,yBAFP,SAII,qBAAIJ,UAAU,qBAAd,UACI,oBAAIA,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWG,GAAG,QAA9B,oBAIJ,oBAAIH,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWG,GAAG,QAA9B,+BCVbE,MAZf,WACI,OACI,sBAAKL,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,2BACA,oBAAGA,UAAU,OAAb,UACI,sBAAMA,UAAU,WAAhB,sBADJ,4ECJZ,SAASM,EAAT,GAAmE,IAA1CC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,OAwBpD,OAvBAC,qBAAU,WACN,IAAMC,EAAsB,WACxBF,EAAO,SAAD,OAAUJ,IAAhB,UAA2BA,EAA3B,cAA6CE,IAG3CK,EAAQ,gCAA4BP,GACtCG,EAASK,eAAeD,GACxBD,IAIJG,MAAM,GAAD,OAAIR,EAAJ,yBACAS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACF,IAAMC,EAASX,EAASY,cAAc,UACtCD,EAAOjB,GAAKU,EACZO,EAAOE,YAAc,GACrBF,EAAOG,IAAP,UAAgBhB,GAAhB,OAAuBY,EAAQ,MAAU,YACzCC,EAAOI,OAASZ,EAChBH,EAASgB,KAAKC,YAAYN,SAI/B,sBAAMjB,GAAE,UAAKG,EAAL,gBAGnBD,EAAcsB,aAAe,CACzBlB,kBACAC,eAGWL,Q,QC3BTuB,EAAiBC,cA6BRC,MA3Bf,YAA4C,IAAD,IAA5BtB,eAA4B,MAAlBoB,EAAkB,EACvC,OACI,eAAC,IAAD,WACI,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,QAAZ,SACI,cAAC,EAAD,CACI1B,KAAK,OACLC,KAAK,wBACLC,QAASA,MAGjB,cAAC,IAAD,CAAOwB,KAAK,QAAZ,SACI,cAAC,EAAD,CACI1B,KAAK,OACLC,KAAK,wBACLC,QAASA,aCvBjCyB,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJ1B,SAASK,eAAe,W","file":"static/js/main.cded9749.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header() {\n    return (\n        <div>\n            <nav\n                className=\"navbar navbar-expand-sm navbar-light\"\n                style={{ backgroundColor: \"rgb(222, 226, 229)\" }}\n            >\n                <Link className=\"navbar-brand\" to=\"/\">\n                    <big className=\"base-app\">Base App</big>\n                </Link>\n                <div\n                    className=\"collapse navbar-collapse\"\n                    id=\"navbarSupportedContent\"\n                >\n                    <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app1\">\n                                App1\n                            </Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link className=\"nav-link\" to=\"/app2\">\n                                App2\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n        </div>\n    );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction BaseApp() {\n    return (\n        <div className=\"jumbotron\">\n            <h2 className=\"display-4\">Hello, world!</h2>\n            <p className=\"lead\">\n                <span className=\"base-app\">Base App</span> is the central access\n                point for the microfrontend infrastructure.\n            </p>\n        </div>\n    );\n}\n\nexport default BaseApp;\n","import React, { useEffect } from \"react\";\n\nfunction MicroFrontend({ name, host, history, document, window }) {\n    useEffect(() => {\n        const renderMicroFrontend = () => {\n            window[`render${name}`](`${name}-container`, history);\n        };\n\n        const scriptId = `micro-frontend-script-${name}`;\n        if (document.getElementById(scriptId)) {\n            renderMicroFrontend();\n            return;\n        }\n\n        fetch(`${host}/asset-manifest.json`)\n            .then(res => res.json())\n            .then(manifest => {\n                const script = document.createElement(\"script\");\n                script.id = scriptId;\n                script.crossOrigin = \"\";\n                script.src = `${host}${manifest[\"files\"][\"main.js\"]}`;\n                script.onload = renderMicroFrontend;\n                document.head.appendChild(script);\n            });\n    });\n\n    return <main id={`${name}-container`} />;\n}\n\nMicroFrontend.defaultProps = {\n    document,\n    window,\n};\n\nexport default MicroFrontend;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport BaseApp from \"./BaseApp\";\nimport MicroFrontend from \"./MicroFrontend\";\nimport { createBrowserHistory } from \"history\";\n\nconst defaultHistory = createBrowserHistory();\n\nfunction App({ history = defaultHistory }) {\n    return (\n        <Router>\n            <Header />\n            <Switch>\n                <Route exact path=\"/\">\n                    <BaseApp />\n                </Route>\n                <Route path=\"/app1\">\n                    <MicroFrontend\n                        name=\"App1\"\n                        host=\"http://localhost:5001\"\n                        history={history}\n                    />\n                </Route>\n                <Route path=\"/app2\">\n                    <MicroFrontend\n                        name=\"app2\"\n                        host=\"http://localhost:3002\"\n                        history={history}\n                    />\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}